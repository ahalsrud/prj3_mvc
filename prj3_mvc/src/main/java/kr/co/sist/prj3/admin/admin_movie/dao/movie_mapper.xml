<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.sist.prj3.admin.admin_movie.dao.movieMapper">  
	<select id="selectMovieList" resultType="md" parameterType="String">
		select  m.m_num, m.m_title, d.d_name, m.genre, m.rank, m.release_date, m.m_reg_date, m.screen_state
		from    movie m
		join director d on m.m_num = d.m_num
		<!-- <where>
			<if test="m_title != null">
				and m_title = #{m_title}
			</if>
		</where> -->
	</select>
	
	<!-- 영화수정(주요정보) -->
	<select id="selectMovie" resultType="emd" parameterType="int">
		select  m_num, m_title, eng_title, genre, run_time, release_date, rank, country, summary, origin, script, produce, ration, imports
		from    movie
		where   m_num = #{m_num}
	</select>
	
	<!-- 영화수정(감독) -->
	<select id="selectDirector" resultType="dd" parameterType="int">
		select  m_num, d_name, d_eng, d_img
		from    director
		where   m_num = #{m_num}
	</select>
	
	<!-- 영화수정(배우) -->
	<select id="selectActor" resultType="ad" parameterType="int">
		select m_num, a_name, a_eng, a_img, role
		from actor
		where m_num = #{ m_num }
	</select> 
</mapper>